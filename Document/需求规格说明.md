# 租呗闲置物品租赁系统需求规格说明

## 更新历史

| 修改人员 |    日期    | 变更原因 | 版本号 |
| :------: | :--------: | :------: | :----: |
|  庄子元  | 2019.11.22 | 最初草稿 | v1.0.0 |

## 目录

- [租呗闲置物品租赁系统需求规格说明](#租呗闲置物品租赁系统需求规格说明)
  - [更新历史](#更新历史)
  - [目录](#目录)
  - [1. 引言](#1-引言)
    - [1.1 目的](#1.1-目的)
    - [1.2 范围](#1.2-范围)
    - [1.3 团队介绍](#1.3-团队介绍)
    - [1.4 参考文献](#1.4-参考文献)
  - [2.总体描述](#2-总体描述)
    - [2.1 项目前景](#2.1-项目前景)
      - [2.1.1 项目背景](#2.1.1-项目背景)
      - [2.1.2 项目机遇](#2.1.2-项目机遇)
      - [2.1.3 业务需求](#2.1.3-业务需求)
    - [2.2 项目功能](#2.2-项目功能)
    - [2.3 用户特征](#2.3-用户特征)
    - [2.4 约束](#2.4-约束)
    - [2.5 假设和依赖](#2.5-假设和依赖)
  - [3.详细需求描述](#3-详细需求描述)
    - [3.1 对外接口需求](#3.1-对外接口需求)
      - [3.1.1 用户界面](#3.1.1-用户界面)
      - [3.1.2 通信接口](#3.1.2-通信接口)
    - [3.2 功能需求](#3.2-功能需求)
      - [3.2.1 登录](#3.2.1-登录)
        - [3.2.1.1 特性描述](#3.2.1.1-特性描述)
        - [3.2.1.2 相关功能需求](#3.2.1.2-相关功能需求)
      - [3.2.2 注册](#3.2.2-注册)
        - [3.2.2.1 特性描述](#3.2.2.1-特性描述)
        - [3.2.2.2 相关功能需求](#3.2.2.2-相关功能需求)
      - [3.2.3 修改个人信息](#3.2.3-修改个人信息)
        - [3.2.3.1 特性描述](#3.2.3.1-特性描述)
        - [3.2.3.2 相关功能需求](#3.2.3.2-相关功能需求)
      - [3.2.4 出租物品](#3.2.4-出租物品)
        - [3.2.4.1 特性描述](#3.2.4.1-特性描述)
        - [3.2.4.2 相关功能需求](#3.2.4.2-相关功能需求)
      - [3.2.5 查看物品列表](#3.2.5-查看物品列表)
        - [3.2.5.1 特性描述](#3.2.5.1-特性描述)
        - [3.2.5.2 相关功能需求](#3.2.5.2-相关功能需求)
      - [3.2.6 查看物品详情](#3.2.6-查看物品详情)
        - [3.2.6.1 特性描述](#3.2.6.1-特性描述)
        - [3.2.6.2 相关功能需求](#3.2.6.2-相关功能需求)
      - [3.2.7 搜索物品](#3.2.7-搜索物品)
        - [3.2.7.1 特性描述](#3.2.7.1-特性描述)
        - [3.2.7.2 相关功能需求](#3.2.7.2-相关功能需求)
      - [3.2.8 下订单](#3.2.8-下订单)
        - [3.2.8.1 特性描述](#3.2.8.1-特性描述)
        - [3.2.8.2 相关功能需求](#3.2.8.2-相关功能需求)
      - [3.2.9 修改密码](#3.2.9-修改密码)
        - [3.2.9.1 特性描述](#3.2.9.1-特性描述)
        - [3.2.9.2 相关功能需求](#3.2.9.2-相关功能需求)
    - [3.3 其他非功能需求](#3.3-其他非功能需求)
      - [3.3.1 安全性](#3.3.1-安全性)
      - [3.3.2 可维护性](#3.3.2-可维护性)
      - [3.3.3 易用性](#3.3.3-易用性)
      - [3.3.4 可靠性](#3.3.4-可靠性)
      - [3.3.5 业务规则](#3.3.5-业务规则)
      - [3.3.6 约束](#3.3.6-约束)
    - [3.4 数据需求](#3.4-数据需求)
      - [3.4.1 数据定义](#3.4.1-数据定义)
      - [3.4.2 默认数据](#3.4.2-默认数据)
        - [3.4.2.1 USER](#3.4.2.1-USER)
        - [3.4.2.2 ITEM](#3.4.2.2-ITEM)
        - [3.4.2.3 ORDER](#3.4.2.3-ORDER)
      - [3.4.3 数据格式要求](#3.4.3-数据格式要求)
      - [3.4.4 特殊要求](#3.4.4-特殊要求)
    - [3.5 其他需求](#3.5-其他需求)
      - [3.5.1 安装需求](#3.5.1-安装需求)
      - [3.5.2 使用需求](#3.5.2-使用需求)

## 1. 引言

### 1.1 目的

本文档描述了租呗闲置物品租赁系统的用户需求，包括观众、管理员、程序维护人员，旨在通过本文档更好的明确当前阶段需求，推动开发工作的进一步进行。

除特殊说明外，本文档所包含的需求都是高优先级需求。

### 1.2 使用范围

租呗闲置物品租赁是3Rookies团队在微软华东五校Hackathon比赛所开发，基于安卓系统实现校园内物品租赁的应用。开发目的是为了帮助校内同学更加方便的实现闲置物品的租赁和借用，包括登录、注册、修改个人信息、出租物品、查看物品列表、查看物品详情、搜索物品、下订单、找回密码等服务。

通过闲置物品管理系统-租呗的上线，可以帮助学生减少寻租、租物的困难，提升闲置物品的使用率，提高生活体验，降低生活成本，并且生活更加绿色环保。

### 1.3 团队介绍

* 程荣鑫
* 李 淳
* 庄子元
  * 南京大学软件学院大二学生

### 1.4 参考文献

- IEEE标准
- 软件工程与计算（卷二） - 软件开发的技术基础

## 2. 总体描述

### 2.1 项目前景

#### 2.1.1 项目背景

高校大学生租赁是租赁业的一个分支, 也就是高校大学生通过校内租赁平台 (校内租赁公司) 进行的租赁活动。

高校大学生租赁与社会上的租赁有所不同, 其运行机制是校内租赁平台 (校内租赁公司) 将学生各种待出租资源(如教科书、复习资料、课外书、服装、舞台道具、交通用具、运动器材及其他物品等)整合后展示给所有的学生。

在这种租赁活动中，学生充当的角色有：出租方 -- 拥有闲置物品；承租方 -- 从学生手里组取物品。

#### 2.1.2 项目机遇

高校租赁这种新兴的消费模式, 目前并没有广泛的流行起来，存在的原因主要是如下两个：

1. 高校大学生绿色消费观念和租赁意识不强
   目前, 多数大学生的消费理念、消费习惯还停留在过去的模式。需求方以购买为主, 以拥有自居。存在租来的物品不如自己拥有更方便;部分学生认为租赁是是被生活条件所困的无奈之举, 在同学之中羞于启齿等观念。闲置方 (拥有方) 缺乏共享、节约的理念, 宁可物品闲置也不愿或懒于出租。他们有的自己留存, 有的毕业时草草出售或赠与学弟学妹, 也有极少数直接扔掉。虽然在很多高校, 有一些大学生尝试去租赁物品, 但目前也是少数、偶尔的行为, 并没有形成规模和持续的租赁习惯, 缺乏节约、环保、绿色消费的理念。对于新型的绿色消费、低碳消费模式并没有深入的认识和了解。
2. 缺乏校园租赁平台
   通过在部分高校调研, 我们了解到有相当一部分学生还是有租赁 (承租或出租) 意愿和需求的, 只是缺乏校园租赁平台, 不方便操作。以南京大学为例，目前更多的租赁平台只是存在于QQ群或是QQ空间公共服务号如南大表白墙等，存在检索困难，时效性差等问题。

闲置物品租赁平台租呗真是为了满足高校学生校园租赁业务发展需求而开发的。面对大量的需求和较高的访问量，利用租呗平台，可以更好的服务学生、校工，提高南大学生的生活质量，降低物品闲置率。

#### 2.1.3 业务需求

BR1. 1 个月内将南大40%的闲置物品租售转移到此平台

BR2. 6 个月后，取代"南小闲"等QQ群和南京大学表白墙的寻租业务，将主要的闲置寻租工作转移到租呗平台上。

### 2.2 项目功能

- 用户根据个人的校园卡图像、学号等进行注册和登录
- 允许用户根据个人当前状况修改个人信息
- 出租闲置物品
- 查看物品列表、物品详情
- 根据一定的特征和关键词搜索物品
- 对平台上的租售物品下订单
- 根据学生邮箱找回密码

### 2.3 用户特征

| 用户类别 | 用户特征                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| :------: | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
|   用户   | 用户具有一定的智能手机操作技能，可以完成输入、点击这些简单的操作。<br>用户希望通过本闲置物品租售系统简化寻租、出租闲置物品的操作，避免在QQ群或是空间寻租的复杂。<br>用户希望可以在较短的时间内完成对物品的查找的租赁，且搜索时避免长篇的纯文字列表。<br>用户对于物品的选择、价格等具有较高的敏感度，因此希望有一个比较好的筛选策略帮助完成选择。<br>用户对于界面的美观程度较为敏感，70%的用户希望界面简洁美观，且不愿意自定义网页界面来实现美化。<br>观众可以接受支付宝、微信支付等常见支付方式和现金等传统支付方式。用户之间主要的交易手段由寻租者和出租者协商完成。 |

### 2.4 约束

- 软件将运行在Android 5.0及以上版本的安卓操作系统上。
- 系统为安卓应用程序，遵循安卓开发规范。
- 项目要使用持续集成方法进行开发。
- 在开发中，开发者要提交软件需求规格说明文档、设计描述文档和测试报告等。
- 本项目搭建在Microsoft Azure平台上，使用Spring Boot作为后端框架，使用Android Studio进行前端开发。

### 2.5 假设和依赖

- 超出本系统范围产生的异常均有线下或是第三方处理(例如：支付宝等第三方支付系统产生异常)。
- 我们的服务能够处理所有潜在用户的请求，并能够存储所有观众产生的数据(可能产生的数据参见[3.4.1 数据定义](#3.4.1-数据定义))。

## 3. 详细需求描述

### 3.1 对外接口需求

#### 3.1.1 用户界面

TODO

#### 3.1.2 通信接口

CI：客户端与服务器使用 HTTPS Request进行通信

### 3.2 功能需求

#### 3.2.1 登录

##### 3.2.1.1 特性描述

用户输入自己的用户名和密码后获得认证，登录进入系统。

优先级 = 高

##### 3.2.1.2 相关功能需求

| 功能需求               | 功能描述     |
| ---------------------- | ------------ |
| userService.getUser    | 获取用户表单 |
| userEntity.getPassword | 获取用户密码 |

#### 3.2.2 注册

##### 3.2.2.1 特性描述

未注册用户通过注册拥有登陆系统的凭证。

优先级 = 中

##### 3.2.2.2 相关功能需求

| 功能需求                 | 功能描述     |
| ------------------------ | ------------ |
| userForm.getUsername     | 获取用户名   |
| userService.registerUser | 增加用户     |
| session.setAttribute     | 新增用户表单 |

#### 3.2.3 修改个人信息

##### 3.2.3.1 特性描述

普通用户通过修改个人信息来管理个人页面。

优先级 = 中

##### 3.2.3.2 相关功能需求

| 功能需求                     | 功能描述     |
| ---------------------------- | ------------ |
| userService.modify(userForm) | 修改用户表单 |

#### 3.2.4 出租物品

##### 3.2.4.1 特性描述

有出租意愿的用户可以将自己的待租物品相关信息上传至系统，从而让其他用户看到物品详情。

优先级 = 高

##### 3.2.4.2 相关功能需求

| 功能需求                 | 功能描述     |
| ------------------------ | ------------ |
| itemService.registerItem | 新增物品表单 |
| session.setAttribute     | 设置物品表单 |

#### 3.2.5 查看物品列表

##### 3.2.5.1 特性描述

给用户展示部分或所有已上架的产品。

优先级 = 高

##### 3.2.5.2 相关功能需求

| 功能需求           | 功能描述           |
| ------------------ | ------------------ |
| itemService.getAll | 获取所有物品的表单 |

#### 3.2.6 查看物品详情

##### 3.2.6.1 特性描述

给用户展示所选商品的详细信息。

优先级 = 高

##### 3.2.6.2 相关功能需求

| 功能需求                 | 功能描述                   |
| ------------------------ | -------------------------- |
| itemService.getItemByUrl | 根据物品识别码获取物品表单 |

#### 3.2.7 搜索物品

##### 3.2.7.1 特性描述

用户根据某个标签来搜索物品。

优先级 = 高

##### 3.2.7.2 相关功能需求

| 功能需求                  | 功能描述         |
| ------------------------- | ---------------- |
| itemService.getAll        | 获取所有物品列表 |
| itemEntities.remove       | 从列表移除物品   |
| itemEntity.getDescription | 获取物品描述     |

#### 3.2.8 下订单

##### 3.2.8.1 特性描述

用户对所选商品下单，租用对应商品。

优先级 = 高

##### 3.2.8.2 相关功能需求

| 功能需求                   | 功能描述     |
| -------------------------- | ------------ |
| MyFormService.registerForm | 注册订单     |
| Session.setAttribute       | 填写订单表单 |

#### 3.2.9 修改密码

##### 3.2.9.1 特性描述

用户忘记密码后找回密码。

优先级 = 中

##### 3.2.9.2 相关功能需求

| 功能需求                   | 功能描述 |
| -------------------------- | -------- |
| userService.modifyPassword | 修改密码 |

### 3.3 其他非功能需求

#### 3.3.1 安全性

- Safety1: 系统中，用户的用户名、密码、学号、校园卡照片等都以密文形式存储在Azure服务器端，由Azure云服务器平台保证其安全可靠。
- Safety2: 用户端的部分功能需要经过系统验证与授权才能使用，涉及的功能范围详见[3.2 功能需求](#3.2-功能需求)
- Safety3: 只有通过学生邮箱认证才能修改密码，学生邮箱功能由腾讯企业邮箱保证其安全可靠。

#### 3.3.2 可维护性

- Maintainability1: 用户上架待租商品时，可以在 0.01 个人月内完成。
- Maintainability2: 本项目需要有注释和软件开发文档说明。

#### 3.3.3 易用性

- Usability1: 所有类型的人员都不需要专门的培训，都可以在 10 分钟内掌握并完成一个操作。
- Usability2: 本项目将对不同型号、不同屏幕大小的安卓智能手机和版本号大于 Android 5.0 的安卓操作系统进行适配。

#### 3.3.4 可靠性

- Reliability1: 网络畅通，客户端与服务器通信时，不会发生故障。
- Reliability2: 多个用户请求发生冲突时，将根据冲突处理策略逐个进行处理。

#### 3.3.5 业务规则

- BR1：冲突处理策略
  - 对产生冲突的请求随机排序后进行处理。
- BR2：适用于(物品名称、类别) 物品搜索策略。
  - (物品名称包含搜索关键字)或(物品描述包含搜索关键字)

#### 3.3.6 约束

- IC1：系统要在网络上分布为云服务器和多个客户端。

### 3.4 数据需求

#### 3.4.1 数据定义

- DR1： 系统需要存储用户的基本信息(用户名、密码、学号、历史订单、校园卡照片)。
- DR2： 系统需要存储物品订单的基本信息(物品所有者、租取物品者、租出物品、创建时间、订单状态、订单号)。
- DR3： 系统需要存储租赁物品的基本信息(物品姓名、物品所有者、上架时间、租赁价格、物品图像)，物品列表的基本信息(所有已上架的物品)。

#### 3.4.2 默认数据

默认数据用于：

- 上架新物品时
- 编辑数据时不小心将内容清空时

(默认编码为 : UTF-8)

##### 3.4.2.1 USER

|     属性      | 数据类型                    | 默认内容      |
| :-----------: | :-------------------------- | :------------ |
|     `id`      | INT UNSIGNED AUTO_INCREMENT | -             |
|  `username`   | VARCHAR(100) NOT NULL       | "admin"       |
|  `password`   | VARCHAR(40) NOT NULL        | "password"    |
|     `sex`     | VARCHAR(10) NOT NULL        | "male"        |
| `department`  | VARCHAR(100) NOT NULL       | "软件学院"    |
|   `balance`   | DOUBLE                      | 100000        |
| `description` | TEXT                        | "super admin" |
|     `url`     | VARCHAR(200)                | ""            |

##### 3.4.2.2 ITEM

|      属性      | 数据类型                    | 默认内容             |
| :------------: | :-------------------------- | :------------------- |
|      `id`      | INT UNSIGNED AUTO_INCREMENT | -                    |
|     `url`      | VARCHAR(200) NOT NULL       | "can't find"         |
|    `seller`    | VARCHAR(100) NOT NULL       | "pkun"               |
|    `buyer`     | VARCHAR(100)                | "NIL"                |
|    `price`     | DOUBLE NOT NULL             | 2.30                 |
|   `add_time`   | VARCHAR(100) NOT NULL       | "2019.11.20"         |
| `longest_time` | INT                         | 2                    |
|   `category`   | VARCHAR(200) NOT NULL       | "电子产品"           |
| `description`  | TEXT                        | "HDMI转VGA和雷神3"   |
|   `delivery`   | TEXT                        | "支持面交和来五栋拿" |

##### 3.4.2.3 ORDER

|     属性      | 数据类型                    | 默认内容     |
| :-----------: | :-------------------------- | :----------- |
|     `id`      | INT UNSIGNED AUTO_INCREMENT | -            |
|     `url`     | VARCHAR(200) NOT NULL       | "can't find" |
| `total_price` | DOUBLE                      | 4.60         |
|    `state`    | VARCHAR(200) NOT NULL       | "UNPAID"     |
| `create_time` | VARCHAR(100) NOT NULL       | "2019.11.20" |

#### 3.4.3 数据格式要求

- Format1: longest_time 的最小单位是**天**
- Format2: 日期的格式必须是：`yyyy.mm.dd`，即年.月.日
- Format3: 交易价格的格式必须是：精确到小数点后 2 位的非负浮点数，单位为 CNY 元。

#### 3.4.4 特殊要求

- USER, ITEM, ORDER 类数据中，它们的`id`是从 1 开始自增长的，故不需手动设置。

### 3.5 其他需求

#### 3.5.1 安装需求

- install1: 部署系统时，要初始化用户、物品列表、物品信息、订单信息。

#### 3.5.2 使用需求

- use1: 用户使用该系统时，需要安装对 Android 5.0 应用接口提供了全面支持的操作系统。
